# Мониторинг

## Мотивация    
Для получения информации о производительности различных сервисов распределенной системы, требуется внедрить
систему мониторинга, позволяющую собирать бизнес и инфраструктурные метрики.        
Для мониторинга предлагается использовать RED-метод с получением метрик по количеству обрабатываемых запросов (requests rate), 
ошибок (errors), длительности выполнения одного запроса (duration).         

## Технологии и план внедрения мониторинга      
К системе мониторинга предлагается подключить backend-сервисы Shop, CRM, MES и брокер сообщений.     
Необходимо настроить сбор метрик внутри приложений с выводом на соответствующий endpoint, настроить Prometheus и настроить 
сбор метрик с endpoint-ов, настроить получение данных с Prometheus в Grafana, настроить дашборды.   

Потребуется получение следующих метрик:         
- для брокера   
    - Number of dead-letter-exchange letters in RabbitMQ - позволит следить за недоставленными сообщениями;
    - Number of message in flight in RabbitMQ	Поможет выявить системы, долго обрабатывающие запросы;  
- для Shop-backend, CRM-backend, MES-backend    
     - Number of requests (RPS) - покажет количество обрабатываемых запросов в секунду   
     - CPU % for shop API - покажет загруженность процессора  
     - Memory Utilisation - покажет использование оперативной памяти      
     - Response time (latency) - покажет длительность выполнения одного запроса      
     - Number of `HTTP 500` - покажет количество error-запросов со статусом 500
